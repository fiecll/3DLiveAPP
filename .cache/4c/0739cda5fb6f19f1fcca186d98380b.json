{"id":"Focm","dependencies":[{"name":"C:\\Users\\81805\\Desktop\\textalive-music-app\\package.json","includedInParent":true,"mtime":1719134912667},{"name":"textalive-app-api","loc":{"line":1,"column":23,"index":23},"parent":"C:\\Users\\81805\\Desktop\\textalive-music-app\\src\\index.js","resolved":"C:\\Users\\81805\\Desktop\\textalive-music-app\\node_modules\\textalive-app-api\\dist\\index.es.js"},{"name":"three","loc":{"line":2,"column":23,"index":68},"parent":"C:\\Users\\81805\\Desktop\\textalive-music-app\\src\\index.js","resolved":"C:\\Users\\81805\\Desktop\\textalive-music-app\\node_modules\\three\\build\\three.module.js"}],"generated":{"js":"\"use strict\";var e=require(\"textalive-app-api\"),t=r(require(\"three\"));function n(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(\"default\"!==a&&{}.hasOwnProperty.call(e,a)){var d=o?Object.getOwnPropertyDescriptor(e,a):null;d&&(d.get||d.set)?Object.defineProperty(i,a,d):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}var i=new e.Player({app:{token:\"rR1JoTmnx0KeK0Wn\"},mediaElement:document.createElement(\"audio\")}),o=document.getElementById(\"playButton\"),a=document.getElementById(\"lyrics\"),d=null,c=new t.Scene,u=new t.PerspectiveCamera(75,window.innerWidth/(window.innerHeight/2),.1,1e3),l=document.getElementById(\"canvas-container\"),s=new t.WebGLRenderer({antialias:!0,canvasContainer:l,alpha:!0});s.setSize(window.innerWidth,window.innerHeight/2),l.appendChild(s.domElement);var p=[\"./src/stage01.png\"],f=new t.CubeTextureLoader;f.load(\"assets/stage01.png\",function(e){c.background=e},void 0,function(e){console.error(\"背景テクスチャのロードに失敗しました\",e)});var m=new t.BoxGeometry,w=new t.MeshBasicMaterial({color:65280}),y=new t.Mesh(m,w);c.add(y),u.position.z=5;var v=function e(){requestAnimationFrame(e),i.isPlaying&&(y.rotation.x+=.01,y.rotation.y+=.01),s.render(c,u)};v();var g=document.getElementById(\"rotateLeft\"),h=document.getElementById(\"rotateRight\"),E=document.getElementById(\"rotateUp\"),x=document.getElementById(\"rotateDown\");g.addEventListener(\"click\",function(){u.rotation.y+=.1}),h.addEventListener(\"click\",function(){u.rotation.y-=.1}),E.addEventListener(\"click\",function(){u.rotation.x+=.1}),x.addEventListener(\"click\",function(){u.rotation.x-=.1}),i.addListener({onAppReady:function(e){e.managed||i.createFromSongUrl(\"https://piapro.jp/t/YW_d/20210206123357\")},onVideoReady:function(e){o.disabled=!1},onTimeUpdate:function(e){if(i.video){var t=i.timer.position,n=i.video.findChar(t);if(n&&n!==d){d=n;var r=n.parent.text,o=n.parent.parent.ruby;a.innerHTML=o?o.text:r}}}}),o.addEventListener(\"click\",function(){i&&(i.isPlaying?(i.requestPause(),o.textContent=\"再生\"):(i.requestPlay(),o.textContent=\"一時停止\"))}),window.addEventListener(\"resize\",function(){var e=window.innerWidth,t=window.innerHeight/2;s.setSize(e,t),u.aspect=e/t,u.updateProjectionMatrix()});"},"sourceMaps":null,"error":null,"hash":"c5bb2721bd7bbcda8bdc4e3eb46b6492","cacheData":{"env":{}}}